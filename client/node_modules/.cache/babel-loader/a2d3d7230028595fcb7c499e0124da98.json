{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\Shopping Kart\\\\client\\\\src\\\\components\\\\cart\\\\ShowCart.js\";\nimport React, { Component } from \"react\";\nimport { Table, Container, Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Layout from \"../Layout\";\nexport default class ShowCart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.totalPrice = () => {\n      let updateCartArray = [];\n      updateCartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\n\n      if (updateCartArray.length < 1) {\n        this.setState({\n          emptyMessage: \"Cart is empty\",\n          totalPrice: 0,\n          cartItems: []\n        });\n      } else {\n        this.setState({\n          cartItems: updateCartArray\n        }, () => {\n          if (updateCartArray.length > 0) {\n            let price = this.state.cartItems[0].price;\n\n            if (this.state.cartItems.length !== 0) {\n              for (let i = 1; i < this.state.cartItems.length; i++) {\n                price = price + this.state.cartItems[i].price;\n              }\n\n              this.setState({\n                totalPrice: price\n              });\n            } else this.setState({\n              totalPrice: price\n            });\n          }\n        });\n      }\n    };\n\n    this.addProduct = (title, size, color, price, image, quantity) => {\n      let cartArray = [];\n      let addPrice = price / quantity;\n      cartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\n\n      if (cartArray.length > 0) {\n        for (let i = 0; i < cartArray.length; i++) {\n          if (cartArray[i].title === title && cartArray[i].color === color && cartArray[i].size === size) {\n            cartArray[i].quantity += 1;\n            cartArray[i].price = cartArray[i].price + addPrice;\n            localStorage.setItem(\"cartItem\", JSON.stringify(cartArray));\n          }\n        }\n      }\n\n      this.totalPrice();\n    };\n\n    this.removeProduct = (title, size, color, price, image, quantity) => {\n      let cartArray = [];\n      let addPrice = price / quantity;\n      cartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\n\n      if (cartArray.length > 0) {\n        for (let i = 0; i < cartArray.length; i++) {\n          if (cartArray[i].quantity > 1 && cartArray[i].title === title && cartArray[i].color === color && cartArray[i].size === size) {\n            cartArray[i].quantity -= 1;\n            cartArray[i].price = cartArray[i].price - addPrice;\n            localStorage.setItem(\"cartItem\", JSON.stringify(cartArray));\n          }\n        }\n      }\n\n      this.totalPrice();\n    };\n\n    this.deleteProduct = id => {\n      let cartArray = [];\n      cartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\n      console.log(\"delete array\", cartArray);\n      cartArray.splice(id, 1);\n      console.log(\"after delete array\", cartArray);\n      localStorage.setItem(\"cartItem\", JSON.stringify(cartArray));\n      this.totalPrice();\n    };\n\n    this.state = {\n      cartItems: [],\n      totalPrice: \"\",\n      emptyMessage: \"\"\n    };\n  }\n\n  componentDidMount() {\n    let cartArray = [];\n    cartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\n    this.setState({\n      cartItems: cartArray\n    }, () => {\n      if (this.state.cartItems.length < 1) {\n        this.setState({\n          emptyMessage: \"Empty Cart\",\n          totalPrice: 0\n        });\n      }\n\n      if (this.state.cartItems.length !== 0) {\n        let price = this.state.cartItems[0].price;\n\n        if (this.state.cartItems.length !== 0) {\n          for (let i = 1; i < this.state.cartItems.length; i++) {\n            price = price + this.state.cartItems[i].price;\n          }\n\n          this.setState({\n            totalPrice: price\n          });\n        } else this.setState({\n          totalPrice: price\n        });\n      }\n    });\n  }\n\n  render() {\n    let shipping;\n    {\n      this.state.totalPrice === 0 ? shipping = 0 : shipping = 100;\n    }\n    return /*#__PURE__*/React.createElement(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        paddingTop: \"70px\",\n        paddingBottom: \"150px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, this.state.cartItems.length < 1 ? /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        textAlign: \"center\",\n        padding: \"30px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, \" \", this.state.emptyMessage, \" \") : /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        textAlign: \"center\",\n        padding: \"30px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, \"Cart\"), /*#__PURE__*/React.createElement(Table, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, \"Item\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, \"Price\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }, \"Quantity\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, this.state.cartItems.map((item, id) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        width: \"30px\"\n      },\n      src: item.image,\n      alt: item.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 27\n      }\n    }, item.title), \" | \", item.size, \" | \", item.color)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 27\n      }\n    }, \"Rs: \", item.price))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        color: \"#072a48\",\n        backgroundColor: \"white\",\n        border: \"solid\",\n        borderColor: \"#072a48\",\n        width: \"30px\",\n        cursor: \"pointer\",\n        borderWidth: \"0.1ex\"\n      },\n      onClick: () => this.addProduct(item.title, item.size, item.color, item.price, item.image, item.quantity),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 27\n      }\n    }, \"+\"), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 27\n      }\n    }, \" \" + item.quantity + \" \"), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        color: \"#072a48\",\n        backgroundColor: \"white\",\n        border: \"solid\",\n        borderColor: \"#072a48\",\n        width: \"30px\",\n        cursor: \"pointer\",\n        borderWidth: \"0.1ex\"\n      },\n      onClick: () => this.removeProduct(item.title, item.size, item.color, item.price, item.image, item.quantity),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 27\n      }\n    }, \"-\"))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        color: \"white\",\n        backgroundColor: \"#dc3545\",\n        border: \"solid\",\n        borderColor: \"#dc3545\",\n        width: \"30px\",\n        cursor: \"pointer\",\n        borderWidth: \"0.1ex\"\n      },\n      onClick: () => {\n        this.deleteProduct(id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 27\n      }\n    }, \"x\"))))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 23\n      }\n    }, \"Subtotal\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 23\n      }\n    }, \"Rs: \", this.state.totalPrice, \" \"))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 23\n      }\n    }, \"Shipping\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 23\n      }\n    }, \"Rs: \", shipping))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 23\n      }\n    }, \"Rs: Total\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 23\n      }\n    }, \"Rs: \", this.state.totalPrice + shipping, \" \"))))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/checkout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        color: \"white\",\n        backgroundColor: \"#6c757d\",\n        borderColor: \"#6c757d\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 19\n      }\n    }, \"Check out\")))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/lenovo/Desktop/Shopping Kart/client/src/components/cart/ShowCart.js"],"names":["React","Component","Table","Container","Button","Link","Layout","ShowCart","constructor","props","totalPrice","updateCartArray","JSON","parse","localStorage","getItem","length","setState","emptyMessage","cartItems","price","state","i","addProduct","title","size","color","image","quantity","cartArray","addPrice","setItem","stringify","removeProduct","deleteProduct","id","console","log","splice","componentDidMount","render","shipping","paddingTop","paddingBottom","textAlign","padding","map","item","width","backgroundColor","border","borderColor","cursor","borderWidth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Table, Container, Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Layout from \"../Layout\";\r\n\r\nexport default class ShowCart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      cartItems: [],\r\n      totalPrice: \"\",\r\n      emptyMessage: \"\"\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    let cartArray = [];\r\n    cartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\r\n    this.setState({ cartItems: cartArray }, () => {\r\n      if (this.state.cartItems.length < 1) {\r\n        this.setState({ emptyMessage: \"Empty Cart\", totalPrice: 0 });\r\n      }\r\n      if (this.state.cartItems.length !== 0) {\r\n        let price = this.state.cartItems[0].price;\r\n        if (this.state.cartItems.length !== 0) {\r\n          for (let i = 1; i < this.state.cartItems.length; i++) {\r\n            price = price + this.state.cartItems[i].price;\r\n          }\r\n          this.setState({ totalPrice: price });\r\n        } else this.setState({ totalPrice: price });\r\n      }\r\n    });\r\n  }\r\n\r\n  totalPrice = () => {\r\n    let updateCartArray = [];\r\n    updateCartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\r\n    if (updateCartArray.length < 1) {\r\n      this.setState({\r\n        emptyMessage: \"Cart is empty\",\r\n        totalPrice: 0,\r\n        cartItems: []\r\n      });\r\n    } else {\r\n\r\n      this.setState({ cartItems: updateCartArray }, () => {\r\n        if (updateCartArray.length > 0) {\r\n          let price = this.state.cartItems[0].price;\r\n          if (this.state.cartItems.length !== 0) {\r\n            for (let i = 1; i < this.state.cartItems.length; i++) {\r\n              price = price + this.state.cartItems[i].price;\r\n            }\r\n            this.setState({ totalPrice: price });\r\n          } else this.setState({ totalPrice: price });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  addProduct = (title, size, color, price, image, quantity) => {\r\n    let cartArray = [];\r\n    let addPrice = price / quantity;\r\n    cartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\r\n    if (cartArray.length > 0) {\r\n      for (let i = 0; i < cartArray.length; i++) {\r\n        if (\r\n          cartArray[i].title === title &&\r\n          cartArray[i].color === color &&\r\n          cartArray[i].size === size\r\n        ) {\r\n          cartArray[i].quantity += 1;\r\n          cartArray[i].price = cartArray[i].price + addPrice;\r\n          localStorage.setItem(\"cartItem\", JSON.stringify(cartArray));\r\n        }\r\n      }\r\n    }\r\n    this.totalPrice();\r\n  };\r\n  removeProduct = (title, size, color, price, image, quantity) => {\r\n    let cartArray = [];\r\n    let addPrice = price / quantity;\r\n    cartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\r\n    if (cartArray.length > 0) {\r\n      for (let i = 0; i < cartArray.length; i++) {\r\n        if (\r\n          cartArray[i].quantity > 1 &&\r\n          cartArray[i].title === title &&\r\n          cartArray[i].color === color &&\r\n          cartArray[i].size === size\r\n        ) {\r\n          cartArray[i].quantity -= 1;\r\n          cartArray[i].price = cartArray[i].price - addPrice;\r\n          localStorage.setItem(\"cartItem\", JSON.stringify(cartArray));\r\n        }\r\n      }\r\n    }\r\n\r\n    this.totalPrice();\r\n  };\r\n  deleteProduct = id => {\r\n    let cartArray = [];\r\n    cartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\r\n    console.log(\"delete array\", cartArray);\r\n    cartArray.splice(id, 1);\r\n    console.log(\"after delete array\", cartArray);\r\n    localStorage.setItem(\"cartItem\", JSON.stringify(cartArray));\r\n    this.totalPrice();\r\n  };\r\n  render() {\r\n    let shipping;\r\n    {\r\n      this.state.totalPrice === 0 ? (shipping = 0) : (shipping = 100);\r\n    }\r\n    return (\r\n      <Layout>\r\n        <div className=\"mt-3\">\r\n          <div style={{ paddingTop: \"70px\", paddingBottom: \"150px\" }}>\r\n            <Container>\r\n              {this.state.cartItems.length < 1 ? (\r\n                <h1 style={{ textAlign: \"center\", padding: \"30px\" }}>\r\n                  {\" \"}\r\n                  {this.state.emptyMessage}{\" \"}\r\n                </h1>\r\n              ) : (\r\n                <h1 style={{ textAlign: \"center\", padding: \"30px\" }}>Cart</h1>\r\n              )}\r\n              <Table>\r\n                <thead>\r\n                  <tr>\r\n                    <th>Item</th>\r\n                    <th>Price</th>\r\n                    <th>Quantity</th>\r\n                    <th></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {this.state.cartItems.map((item, id) => (\r\n                    <tr key={id}>\r\n                      <td>\r\n                        <img\r\n                          style={{ width: \"30px\" }}\r\n                          src={item.image}\r\n                          alt={item.title}\r\n                        />\r\n                        <p>\r\n                          <b>{item.title}</b> | {item.size} | {item.color}\r\n                        </p>\r\n                      </td>\r\n                      <td>\r\n                        <p>\r\n                          <b>Rs: {item.price}</b>\r\n                        </p>\r\n                      </td>\r\n                      <td>\r\n                        <p>\r\n                          <button\r\n                            style={{\r\n                              color: \"#072a48\",\r\n                              backgroundColor: \"white\",\r\n                              border: \"solid\",\r\n                              borderColor: \"#072a48\",\r\n                              width: \"30px\",\r\n                              cursor: \"pointer\",\r\n                              borderWidth: \"0.1ex\"\r\n                            }}\r\n                            onClick={() =>\r\n                              this.addProduct(\r\n                                item.title,\r\n                                item.size,\r\n                                item.color,\r\n                                item.price,\r\n                                item.image,\r\n                                item.quantity\r\n                              )\r\n                            }\r\n                          >\r\n                            +\r\n                          </button>\r\n                          <b>{\" \" + item.quantity + \" \"}</b>\r\n                          <button\r\n                            style={{\r\n                              color: \"#072a48\",\r\n                              backgroundColor: \"white\",\r\n                              border: \"solid\",\r\n                              borderColor: \"#072a48\",\r\n                              width: \"30px\",\r\n                              cursor: \"pointer\",\r\n                              borderWidth: \"0.1ex\"\r\n                            }}\r\n                            onClick={() =>\r\n                              this.removeProduct(\r\n                                item.title,\r\n                                item.size,\r\n                                item.color,\r\n                                item.price,\r\n                                item.image,\r\n                                item.quantity\r\n                              )\r\n                            }\r\n                          >\r\n                            -\r\n                          </button>\r\n                        </p>\r\n                      </td>\r\n                      <td>\r\n                        <p>\r\n                          <button\r\n                            style={{\r\n                              color: \"white\",\r\n                              backgroundColor: \"#dc3545\",\r\n                              border: \"solid\",\r\n                              borderColor: \"#dc3545\",\r\n                              width: \"30px\",\r\n                              cursor: \"pointer\",\r\n                              borderWidth: \"0.1ex\"\r\n                            }}\r\n                            onClick={() => {\r\n                              this.deleteProduct(id);\r\n                            }}\r\n                          >\r\n                            x\r\n                          </button>\r\n                        </p>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                  <tr>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td>\r\n                      <b>Subtotal</b>\r\n                    </td>\r\n                    <td>\r\n                      <b>Rs: {this.state.totalPrice} </b>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td>\r\n                      <b>Shipping</b>\r\n                    </td>\r\n                    <td>\r\n                      <b>Rs: {shipping}</b>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td>\r\n                      <b>Rs: Total</b>\r\n                    </td>\r\n                    <td>\r\n                      <b>Rs: {this.state.totalPrice + shipping} </b>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </Table>\r\n              <div style={{ textAlign: \"right\" }}>\r\n                <Link to=\"/checkout\">\r\n                  <Button\r\n                    style={{\r\n                      color: \"white\",\r\n                      backgroundColor: \"#6c757d\",\r\n                      borderColor: \"#6c757d\"\r\n                    }}\r\n                  >\r\n                    Check out\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n            </Container>\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}