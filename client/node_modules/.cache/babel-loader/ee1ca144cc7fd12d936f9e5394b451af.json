{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\Shopping Kart\\\\client\\\\src\\\\components\\\\cart\\\\ShowCart.js\";\nimport React, { Component } from \"react\";\nimport { Table, Container, Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Layout from \"../Layout\";\nexport default class ShowCart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addProduct = (title, size, color, price, image, quantity) => {\n      console.log(\"passed data\", title, size, color, price, image);\n      const cartData = {\n        title: title,\n        price: price,\n        image: image,\n        size: size,\n        color: color,\n        quantity: quantity\n      };\n      let cartArray = [];\n      console.log(\"price in cartData\", cartData);\n      console.log(\"quantity in cartData\", cartData.quantity);\n      let updatePrice = cartData.price / cartData.quantity;\n      cartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\n\n      if (cartArray.length > 0) {\n        for (let i = 0; i < cartArray.length; i++) {\n          if (cartArray[i].title === cartData.title && cartArray[i].color === cartData.color && cartArray[i].size === cartData.size) {\n            console.log(\"price before addition\", cartArray[i].price); //   console.log(\"price in cartData\", updatePrice);\n\n            cartArray[i].quantity += 1;\n            cartArray[i].price = cartArray[i].price + cartData.price;\n            console.log(\"quantity before adding local storage\", cartArray[i].quantity);\n            console.log(\"price before adding local storage\", cartArray[i].price); //   localStorage.setItem(\"cartItem\", JSON.stringify(cartArray));\n            // } else {\n            //   cartArray.push(cartData);\n            //   localStorage.setItem(\"cartItem\", JSON.stringify(cartArray));\n            // }\n          }\n        }\n      } // let updatePrice = cartData.price + cartData.price\n      // this.setState({totalPrice: updatePrice})\n\n\n      let updateCartArray = []; // let updatePrice = 0;\n\n      updateCartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\n      this.setState({\n        cartItems: updateCartArray\n      }, () => {\n        if (updateCartArray.length !== 0) {\n          for (let i = 0; i < updateCartArray.length; i++) {\n            if (updateCartArray[i].quantity > 1) {\n              console.log(\"quantity\", updateCartArray[i].quantity);\n              console.log(\"price\", updateCartArray[i].price);\n              updatePrice = 0 + updateCartArray[i].price / 2;\n              console.log(\"price to show\", updatePrice);\n              this.setState({\n                totalPrice: updatePrice\n              });\n            }\n          }\n        }\n      });\n    };\n\n    this.removeProduct = (title, size, color, price, image) => {\n      console.log(\"passed data\", title, size, color, price, image);\n      const cartData = {\n        title: title,\n        price: price,\n        image: image,\n        size: size,\n        color: color,\n        quantity: 1\n      };\n      let cartArray = [];\n      cartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\n      cartArray.push(cartData);\n      localStorage.setItem(\"cartItem\", JSON.stringify(cartArray));\n    };\n\n    this.state = {\n      cartItems: [],\n      totalPrice: \"\"\n    };\n  }\n\n  componentDidMount() {\n    let cartArray = [];\n    let price = 0;\n    cartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\n    console.log(\"cartArray is\", cartArray);\n    this.setState({\n      cartItems: cartArray\n    }, () => {\n      console.log(\"cartItem\", this.state.cartItems);\n\n      if (this.state.cartItems.length !== 0) {\n        for (let i = 0; i < this.state.cartItems.length; i++) {\n          price = 0 + this.state.cartItems[i].price;\n        }\n\n        this.setState({\n          totalPrice: price\n        });\n      }\n    });\n  } //   componentDidUpdate() {\n  //     let cartArray = [];\n  //     let price = 0;\n  //     cartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\n  //     console.log(\"cartArray is\", cartArray);\n  //     this.setState({ cartItems: cartArray }, () => {\n  //       console.log(\"cartItem\", this.state.cartItems);\n  //       //   console.log(\"price\", this.state.cartItems.length);\n  //       if (this.state.cartItems.length !== 0) {\n  //         // console.log(\"length\", this.state.cartItems.length);\n  //         for (let i = 0; i < this.state.cartItems.length; i++) {\n  //           price = price + this.state.cartItems[i].price;\n  //         }\n  //         // console.log(\"price\", price);\n  //         this.setState({ totalPrice: price });\n  //         // console.log(\"total price\", this.state.totalPrice);\n  //       }\n  //     });\n  //   }\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        paddingTop: \"70px\",\n        paddingBottom: \"150px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        textAlign: \"center\",\n        padding: \"30px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    }, \"Cart\"), /*#__PURE__*/React.createElement(Table, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, \"Item\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }, \"Price\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    }, \"Quantity\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, this.state.cartItems.map((item, id) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        width: \"30px\"\n      },\n      src: item.image,\n      alt: item.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 27\n      }\n    }, item.title), \" | \", item.size, \" | \", item.color)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 27\n      }\n    }, \"Rs: \", item.price))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        color: \"#072a48\",\n        backgroundColor: \"white\",\n        border: \"solid\",\n        borderColor: \"#072a48\",\n        width: \"30px\",\n        cursor: \"pointer\",\n        borderWidth: \"0.1ex\"\n      },\n      onClick: () => this.addProduct(item.title, item.size, item.color, item.price, item.image),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 27\n      }\n    }, \"+\"), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 27\n      }\n    }, \" \" + item.quantity + \" \"), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        color: \"#072a48\",\n        backgroundColor: \"white\",\n        border: \"solid\",\n        borderColor: \"#072a48\",\n        width: \"30px\",\n        cursor: \"pointer\",\n        borderWidth: \"0.1ex\"\n      },\n      onClick: () => this.removeProduct(item.title, item.size, item.color, item.price, item.image, item.quantity),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 27\n      }\n    }, \"-\"))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        color: \"white\",\n        backgroundColor: \"#072a48\",\n        border: \"solid\",\n        borderColor: \"#072a48\",\n        width: \"30px\",\n        cursor: \"pointer\",\n        borderWidth: \"0.1ex\"\n      },\n      onClick: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 27\n      }\n    }, \"x\"))))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 23\n      }\n    }, \"Subtotal\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 23\n      }\n    }, \"Rs: \", this.state.totalPrice, \" \"))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 23\n      }\n    }, \"Shipping\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 23\n      }\n    }, \"Rs: 100\"))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 23\n      }\n    }, \"Rs: Total\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 23\n      }\n    }, \"Rs: \", this.state.totalPrice + 100, \" \"))))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/checkout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 19\n      }\n    }, \"Check out\")))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/lenovo/Desktop/Shopping Kart/client/src/components/cart/ShowCart.js"],"names":["React","Component","Table","Container","Button","Link","Layout","ShowCart","constructor","props","addProduct","title","size","color","price","image","quantity","console","log","cartData","cartArray","updatePrice","JSON","parse","localStorage","getItem","length","i","updateCartArray","setState","cartItems","totalPrice","removeProduct","push","setItem","stringify","state","componentDidMount","render","paddingTop","paddingBottom","textAlign","padding","map","item","id","width","backgroundColor","border","borderColor","cursor","borderWidth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Table, Container, Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Layout from \"../Layout\";\r\n\r\nexport default class ShowCart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      cartItems: [],\r\n      totalPrice: \"\"\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    let cartArray = [];\r\n    let price = 0;\r\n    cartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\r\n    console.log(\"cartArray is\", cartArray);\r\n    this.setState({ cartItems: cartArray }, () => {\r\n      console.log(\"cartItem\", this.state.cartItems);\r\n      if (this.state.cartItems.length !== 0) {\r\n        for (let i = 0; i < this.state.cartItems.length; i++) {\r\n          price = 0 + this.state.cartItems[i].price;\r\n        }\r\n        this.setState({ totalPrice: price });\r\n      }\r\n    });\r\n  }\r\n  //   componentDidUpdate() {\r\n\r\n  //     let cartArray = [];\r\n  //     let price = 0;\r\n  //     cartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\r\n  //     console.log(\"cartArray is\", cartArray);\r\n  //     this.setState({ cartItems: cartArray }, () => {\r\n  //       console.log(\"cartItem\", this.state.cartItems);\r\n  //       //   console.log(\"price\", this.state.cartItems.length);\r\n  //       if (this.state.cartItems.length !== 0) {\r\n  //         // console.log(\"length\", this.state.cartItems.length);\r\n  //         for (let i = 0; i < this.state.cartItems.length; i++) {\r\n  //           price = price + this.state.cartItems[i].price;\r\n  //         }\r\n  //         // console.log(\"price\", price);\r\n  //         this.setState({ totalPrice: price });\r\n  //         // console.log(\"total price\", this.state.totalPrice);\r\n  //       }\r\n  //     });\r\n  //   }\r\n  addProduct = (title, size, color, price, image, quantity) => {\r\n    console.log(\"passed data\", title, size, color, price, image);\r\n\r\n    const cartData = {\r\n      title: title,\r\n      price: price,\r\n      image: image,\r\n      size: size,\r\n      color: color,\r\n      quantity: quantity\r\n    };\r\n    let cartArray = [];\r\n    console.log(\"price in cartData\", cartData);\r\n    console.log(\"quantity in cartData\", cartData.quantity);\r\n    let updatePrice = cartData.price / cartData.quantity;\r\n    cartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\r\n    if (cartArray.length > 0) {\r\n      for (let i = 0; i < cartArray.length; i++) {\r\n        if (\r\n          cartArray[i].title === cartData.title &&\r\n          cartArray[i].color === cartData.color &&\r\n          cartArray[i].size === cartData.size\r\n        ) {\r\n          console.log(\"price before addition\", cartArray[i].price);\r\n        //   console.log(\"price in cartData\", updatePrice);\r\n          cartArray[i].quantity += 1;\r\n          cartArray[i].price = cartArray[i].price + cartData.price;\r\n          console.log(\r\n            \"quantity before adding local storage\",\r\n            cartArray[i].quantity\r\n          );\r\n          console.log(\"price before adding local storage\", cartArray[i].price);\r\n          //   localStorage.setItem(\"cartItem\", JSON.stringify(cartArray));\r\n          // } else {\r\n          //   cartArray.push(cartData);\r\n          //   localStorage.setItem(\"cartItem\", JSON.stringify(cartArray));\r\n          // }\r\n        }\r\n      }\r\n    }\r\n    // let updatePrice = cartData.price + cartData.price\r\n    // this.setState({totalPrice: updatePrice})\r\n    let updateCartArray = [];\r\n    // let updatePrice = 0;\r\n    updateCartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\r\n    this.setState({ cartItems: updateCartArray }, () => {\r\n      if (updateCartArray.length !== 0) {\r\n        for (let i = 0; i < updateCartArray.length; i++) {\r\n          if (updateCartArray[i].quantity > 1) {\r\n            console.log(\"quantity\", updateCartArray[i].quantity);\r\n            console.log(\"price\", updateCartArray[i].price);\r\n\r\n            updatePrice = 0 + updateCartArray[i].price / 2;\r\n            console.log(\"price to show\", updatePrice);\r\n            this.setState({ totalPrice: updatePrice });\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n  removeProduct = (title, size, color, price, image) => {\r\n    console.log(\"passed data\", title, size, color, price, image);\r\n\r\n    const cartData = {\r\n      title: title,\r\n      price: price,\r\n      image: image,\r\n      size: size,\r\n      color: color,\r\n      quantity: 1\r\n    };\r\n    let cartArray = [];\r\n    cartArray = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\r\n    cartArray.push(cartData);\r\n    localStorage.setItem(\"cartItem\", JSON.stringify(cartArray));\r\n  };\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        <div className=\"mt-3\">\r\n          <div style={{ paddingTop: \"70px\", paddingBottom: \"150px\" }}>\r\n            <Container>\r\n              <h1 style={{ textAlign: \"center\", padding: \"30px\" }}>Cart</h1>\r\n              <Table>\r\n                <thead>\r\n                  <tr>\r\n                    <th>Item</th>\r\n                    <th>Price</th>\r\n                    <th>Quantity</th>\r\n                    <th></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {this.state.cartItems.map((item, id) => (\r\n                    <tr key={id}>\r\n                      <td>\r\n                        <img\r\n                          style={{ width: \"30px\" }}\r\n                          src={item.image}\r\n                          alt={item.title}\r\n                        />\r\n                        <p>\r\n                          <b>{item.title}</b> | {item.size} | {item.color}\r\n                        </p>\r\n                      </td>\r\n                      <td>\r\n                        <p>\r\n                          <b>Rs: {item.price}</b>\r\n                        </p>\r\n                      </td>\r\n                      <td>\r\n                        <p>\r\n                          <button\r\n                            style={{\r\n                              color: \"#072a48\",\r\n                              backgroundColor: \"white\",\r\n                              border: \"solid\",\r\n                              borderColor: \"#072a48\",\r\n                              width: \"30px\",\r\n                              cursor: \"pointer\",\r\n                              borderWidth: \"0.1ex\"\r\n                            }}\r\n                            onClick={() =>\r\n                              this.addProduct(\r\n                                item.title,\r\n                                item.size,\r\n                                item.color,\r\n                                item.price,\r\n                                item.image\r\n                              )\r\n                            }\r\n                          >\r\n                            +\r\n                          </button>\r\n                          <b>{\" \" + item.quantity + \" \"}</b>\r\n                          <button\r\n                            style={{\r\n                              color: \"#072a48\",\r\n                              backgroundColor: \"white\",\r\n                              border: \"solid\",\r\n                              borderColor: \"#072a48\",\r\n                              width: \"30px\",\r\n                              cursor: \"pointer\",\r\n                              borderWidth: \"0.1ex\"\r\n                            }}\r\n                            onClick={() =>\r\n                              this.removeProduct(\r\n                                item.title,\r\n                                item.size,\r\n                                item.color,\r\n                                item.price,\r\n                                item.image,\r\n                                item.quantity\r\n                              )\r\n                            }\r\n                          >\r\n                            -\r\n                          </button>\r\n                        </p>\r\n                      </td>\r\n                      <td>\r\n                        <p>\r\n                          <button\r\n                            style={{\r\n                              color: \"white\",\r\n                              backgroundColor: \"#072a48\",\r\n                              border: \"solid\",\r\n                              borderColor: \"#072a48\",\r\n                              width: \"30px\",\r\n                              cursor: \"pointer\",\r\n                              borderWidth: \"0.1ex\"\r\n                            }}\r\n                            onClick=\"\"\r\n                          >\r\n                            x\r\n                          </button>\r\n                        </p>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                  <tr>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td>\r\n                      <b>Subtotal</b>\r\n                    </td>\r\n                    <td>\r\n                      <b>Rs: {this.state.totalPrice} </b>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td>\r\n                      <b>Shipping</b>\r\n                    </td>\r\n                    <td>\r\n                      <b>Rs: 100</b>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td>\r\n                      <b>Rs: Total</b>\r\n                    </td>\r\n                    <td>\r\n                      <b>Rs: {this.state.totalPrice + 100} </b>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </Table>\r\n              <div style={{ textAlign: \"right\" }}>\r\n                <Link to=\"/checkout\">\r\n                  <Button>Check out</Button>\r\n                </Link>\r\n              </div>\r\n            </Container>\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}